(this.webpackJsonpcart=this.webpackJsonpcart||[]).push([[0],{13:function(e,t,a){e.exports=a(23)},18:function(e,t,a){},20:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),s=a.n(c),l=(a(18),a(11)),o=a(3),m=a.n(o),i=a(6),u=a(1),d=a(8),b=(a(20),a(24)),f=a(25);function p(e){var t=e.product,a=e.addToCart;return r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"card mb-4 shadow-sm"},r.a.createElement("img",{src:"food.png",className:"card-img-top",alt:"imh"}),r.a.createElement("div",{className:"btn btn-sm border rounded-circle fav"},r.a.createElement(b.a,{size:16})),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title mb-1 ellipsis"},t.name),r.a.createElement("small",{className:"text-muted"},"Quantity: 1kg"),r.a.createElement("div",{className:"d-flex justify-content-between mt-2 align-items-center"},"$",t.price,r.a.createElement("button",{className:"btn rounded-circle bg-orange btn-sm",onClick:function(){return a(t)}},r.a.createElement(f.a,{color:"white",size:18}))))))}var E=a(7),v=a(26),h=a(27);function g(e){var t=e.products,a=e.setCart,c=t.reduce((function(e,t){return e+t.price*t.count}),0),s=Object(n.useState)({showform:!1,address:"",msg:""}),l=Object(d.a)(s,2),o=l[0],b=l[1],f=function(){var e=Object(i.a)(m.a.mark((function e(){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={amount:c,address:o.address,products:t.map((function(e){return{name:e.name,price:e.price,count:e.count}}))},e.next=3,fetch("/orders",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(a)});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,b((function(e){return Object(u.a)(Object(u.a)({},e),{},{msg:r.msg})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"card shadow-sm"},r.a.createElement("div",{className:"card-header d-flex justify-content-between"},"Your Cart",r.a.createElement("span",{className:"btn btn-sm border shadow-sm align-items-center",onClick:function(){a([])}},r.a.createElement(v.a,{size:13})," Clear")),r.a.createElement("div",{className:"py-2 cart-scroll"},t.length>0?null:r.a.createElement("div",{className:"text-center my-4"},o.msg?r.a.createElement("p",{className:"alert alert-success"},o.msg):null,r.a.createElement("b",null,"Cart is Empty!"),r.a.createElement("p",{className:"text-muted"},"Please Select a Product")),o.showform?r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Shipping Address"),r.a.createElement("textarea",{name:"address",className:"form-control",onChange:function(e){var t=e.target,a=t.name,n=t.value;b((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(E.a)({},a,n))}))},value:o.address,placeholder:"Add Your Mobile Number & Address..."})),r.a.createElement("button",{className:"btn btn-success btn-sm float-right",onClick:function(){f(),a([]),b((function(e){return Object(u.a)(Object(u.a)({},e),{},{showform:!1,address:""})}))},disabled:0===o.address.length},"Confrim")):r.a.createElement("table",{className:"cart-table"},r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("img",{src:"food.png",alt:"prod",className:"img-circle",width:40})),r.a.createElement("td",{className:"ellipsis"},r.a.createElement("small",null,e.name)),r.a.createElement("td",null,r.a.createElement("input",{type:"number",className:"counter",value:e.count,onChange:function(n){return function(e,n){var r=t.map((function(t){return t.id===n?Object(u.a)(Object(u.a)({},t),{},{count:e.target.value}):Object(u.a)({},t)}));a(r)}(n,e.id)}})),r.a.createElement("td",null,"$",e.price*e.count),r.a.createElement("td",null,r.a.createElement("span",{className:"cursor-pointer",onClick:function(){return function(e){var n=t.filter((function(t){return t.id!==e}));a(n)}(e.id)}},r.a.createElement(h.a,{color:"orange",size:20}))))}))))),r.a.createElement("div",{className:"card-footer d-flex justify-content-between align-items-center"},r.a.createElement("button",{className:"btn bg-orange",onClick:function(){t.length>0?b((function(e){return Object(u.a)(Object(u.a)({},e),{},{showform:!0})})):alert("Please Select Product First")},disabled:0===t.length},"Place Order"),"Grand Total $",c))}var N=function(){var e=Object(n.useState)({products:[],cart:[]}),t=Object(d.a)(e,2),a=t[0],c=t[1],s=function(e){c((function(t){return Object(u.a)(Object(u.a)({},t),{},{cart:e})}))};Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c((function(e){return Object(u.a)(Object(u.a)({},e),{},{products:a})}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var o=function(e){var t=!1,n=a.cart.map((function(a){return a.id===e.id?(t=!0,Object(u.a)(Object(u.a)({},a),{},{count:a.count+1})):Object(u.a)({},a)}));t||(n=[].concat(Object(l.a)(n),[Object(u.a)(Object(u.a)({},e),{},{count:1})])),s(n)};return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-light bg-orange"},r.a.createElement("a",{className:"navbar-brand text-white",href:"!#"},"Navbar")),r.a.createElement("div",{className:"container mt-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"row"},a.products.slice(0,9).map((function(e){return r.a.createElement(p,{key:e.id,product:e,addToCart:o})})))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(g,{products:a.cart,setCart:s})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.330c95ce.chunk.js.map